(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t,r){e.exports=r(431)},431:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(28),o=r.n(c),u=r(162),l=r(50),i=r(172),s=r(163),p=r(173),d=r(25),m=r(68),f=r.n(m),b="FETCH_ALL_PRODUCTS_REQUEST",v="FETCH_ALL_PRODUCTS_SUCCESS",E="FETCH_ALL_PRODUCTS_FAILURE";var h="UPDATE_PRODUCT_REQUEST",y="UPDATE_PRODUCT_SUCCESS",O="UPDATE_PRODUCT_FAILURE";function j(e){return{type:h,payload:e}}var x="DELETE_PRODUCT_REQUEST",w="DELETE_PRODUCT_SUCCESS",g="QUIZE_FETCH_FAILURE";var R="CLEAR_ERRORS_REQUEST",U="CLEAR_ERRORS_SUCCESS",C="CLEAR_ERRORS_FAILURE";var S="FETCH_CURRENCY_RATE_REQUEST",_="FETCH_CURRENCY_RATE_SUCCESS",T="FETCH_CURRENCY_RATE_FAILURE";var k=r(43),A=r(45),D=r(51),P=r(20),F=r(13),L=Object(P.b)({root:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch"}});function N(e){var t=e.children,r=L();return a.a.createElement("div",{className:r.root},t)}var I="/products",H="/products/new",B="/products",Q="/";function W(e){return e.loadingFlags.productUpdate}function z(e){return Object.values(e.products)}function M(e,t){return e.products[t]}function Y(e){return e.errors.errors}function G(e){return e.currencyRate.rate}var J=r(165),V=Object(P.b)({root:{marginBottom:"0.5em"}});function Z(e){var t=e.children,r=Object(J.a)(e,["children"]),n=V();return a.a.createElement(F.a,Object.assign({className:n.root,variant:"contained"},r),t)}var $=Object(P.b)({root:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end"}});function q(e){var t=e.useAud,r=e.updateUseAud,n=e.disabled,c=$();return a.a.createElement("div",{className:c.root},a.a.createElement(F.c,{checked:t,onChange:function(){return r(!t)},value:"useAud",color:"primary",disabled:n}),a.a.createElement(Z,{color:"primary",component:k.b,to:H},"Add Product"))}var K=Object(P.b)({root:{},currencyColumn:{textAlign:"right"}});var X=Object(d.b)(function(e,t){return{products:z(e),currencyRate:G(e)}},function(e){return{deleteProduct:function(t){return e(function(e){return{type:x,payload:e}}(t))}}})(function(e){var t=e.products,r=e.deleteProduct,c=e.currencyRate,o=K(),u=Object(n.useState)(!1),l=Object(D.a)(u,2),i=l[0],s=l[1];return a.a.createElement("section",null,a.a.createElement(q,{useAud:i,updateUseAud:s,disabled:!c}),a.a.createElement(F.d,{className:o.root},a.a.createElement(F.g,null,a.a.createElement(F.h,null,a.a.createElement(F.f,null,"Product ID"),a.a.createElement(F.f,null,"Product Name"),a.a.createElement(F.f,null,i?"Value (AUD)":"Value (USD)"),a.a.createElement(F.f,null,"Action"))),a.a.createElement(F.e,null,t&&t.map(function(e,t){return a.a.createElement(F.h,{key:e.id},a.a.createElement(F.f,null,e.id),a.a.createElement(F.f,null,e.name),a.a.createElement(F.f,{className:o.currencyColumn},function(e){return Number(e).toFixed(2)}(i?e.priceUsd*c:e.priceUsd)),a.a.createElement(F.f,null,a.a.createElement(N,null,a.a.createElement(Z,{component:k.b,to:"".concat(I,"/").concat(e.id),color:"primary"},"Update"),a.a.createElement(Z,{onClick:function(){return r(e)},color:"secondary"},"Delete"))))}))))}),ee=Object(P.b)({root:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",maxWidth:600},field:{paddingBottom:"1em"}});var te=Object(d.b)(function(e,t){return{updateLoading:W(e)}},function(e){return{submitForm:function(t){return e(j(t))}}})(function(e){var t=e.productData,r=e.submitForm,c=e.updateLoading,o=ee(),u=Object(n.useState)(t.name),l=Object(D.a)(u,2),i=l[0],s=l[1],p=Object(n.useState)(t.priceUsd),d=Object(D.a)(p,2),m=d[0],f=d[1],b=Object(n.useState)(!1),v=Object(D.a)(b,2),E=v[0],h=v[1];return E&&!c?a.a.createElement(A.a,{to:B}):a.a.createElement("form",{className:o.root,onSubmit:function(e){e.preventDefault(),r({id:t.id,name:i,priceUsd:m}),h(!0)}},a.a.createElement(F.i,{disabled:!0,label:"Product ID",value:t.id||"n/a",className:o.field}),a.a.createElement(F.i,{value:i,label:"Product Name",onChange:function(e){return s(e.target.value)},disabled:c,className:o.field}),a.a.createElement(F.i,{value:m,label:"Price (USD)",onChange:function(e){return f(e.target.value)},disabled:c,type:"number",className:o.field}),a.a.createElement(Z,{type:"submit",disabled:c,className:o.field,color:"primary"},"Submit"))}),re=Object(P.b)({root:{padding:"2em"}});function ne(e){var t=e.children,r=re();return a.a.createElement("div",{className:r.root},t)}var ae=Object(P.b)({root:{}});var ce=Object(d.b)(function(e,t){return{productData:M(e,t.match.params.id)}},function(e){return{submitForm:function(t){return e(j(t))}}})(function(e){var t=e.productData;return ae(),a.a.createElement(ne,null,a.a.createElement(F.j,{variant:"h2",gutterBottom:!0},"Update Product "),t&&a.a.createElement(te,{productData:t}))}),oe=r(168),ue=Object(P.b)({root:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch"}}),le={id:"",name:"",priceUsd:""};function ie(e){Object(oe.a)(e);ue();return a.a.createElement(ne,null,a.a.createElement(F.j,{variant:"h2",gutterBottom:!0},"Create Product "),a.a.createElement(te,{productData:le}))}var se=Object(d.b)(function(e,t){return{}},function(e){return{}})(function(){return a.a.createElement(k.a,null,a.a.createElement(A.d,null,a.a.createElement(A.b,{path:H,exact:!0,component:ie}),a.a.createElement(A.b,{path:"".concat(I,"/:id"),exact:!0,component:ce}),a.a.createElement(A.b,{path:B,exact:!0,component:X}),a.a.createElement(A.b,{path:Q,exact:!0,component:X})))}),pe=Object(P.b)({root:{}});function de(e){e.children;var t=pe();return a.a.createElement("header",{className:t.root},a.a.createElement(F.j,{variant:"h1",align:"center",gutterBottom:!0},"Acme Product Mangement Tool"))}var me=r(169),fe=r.n(me),be=Object(P.b)(function(e){return{root:{padding:"1em",margin:"1em 2em",color:"".concat(e.palette.secondary.main),fontWeight:"bold",border:"solid 3px ".concat(e.palette.secondary.main),borderRadius:5},button:{display:"block",margin:"0 0 0 auto"}}});var ve=Object(d.b)(function(e,t){return{errors:Y(e)}},function(e){return{clearErrors:function(){return e({type:R,payload:null})}}})(function(e){var t=e.errors,r=e.clearErrors,n=be();return t&&a.a.createElement("div",{className:n.root},a.a.createElement(F.j,{variant:"p"},"    Uh oh, something went wrong. "),a.a.createElement(F.b,{color:"secondary",size:"small",className:n.button,onClick:r},a.a.createElement(fe.a,null)))}),Ee=function(e){function t(e){var r;return Object(u.a)(this,t),r=Object(i.a)(this,Object(s.a)(t).call(this,e)),e.fetchAllProducts(),e.fetchCurrencyRate(),r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(f.a,null,a.a.createElement(de,null),a.a.createElement(ve,null),a.a.createElement(se,null))}}]),t}(n.Component),he=Object(d.b)(function(e,t){return{}},function(e){return{fetchAllProducts:function(){return e({type:b,payload:null})},fetchCurrencyRate:function(){return e({type:S})}}})(Ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=r(34),Oe=r(171),je=r(59),xe=r(35),we={};var ge={updateProduct:!1};var Re={errors:null};var Ue={rate:null};var Ce=Object(ye.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case v:return n.reduce(function(e,t){return Object(xe.a)({},e,Object(je.a)({},t.id,t))},{});case y:return Object(xe.a)({},e,Object(je.a)({},n.id,n));case w:var a=Object(xe.a)({},e);return delete a[n.id],a;default:return e}},loadingFlags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,r=t.type;switch(t.payload,r){case h:return Object(xe.a)({},e,{updateProduct:!0});case y:case O:return Object(xe.a)({},e,{updateProduct:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;return"FAILURE"===r.split("_").pop()?{errors:n}:r===U?Re:e},currencyRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case _:return{rate:n};default:return e}}}),Se=r(170),_e=r(9),Te=r.n(_e),ke=r(21),Ae=r(36),De=r(72),Pe=r.n(De),Fe="/products",Le={},Ne=function(){var e=Object(Ae.a)(Te.a.mark(function e(t){var r,n,a,c=arguments;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"GET",n=c.length>2&&void 0!==c[2]?c[2]:Le,e.prev=2,e.next=5,Pe()(Object(xe.a)({},n,{method:r,url:"/api"+t}));case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();function Ie(){return He.apply(this,arguments)}function He(){return(He=Object(Ae.a)(Te.a.mark(function e(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne(Fe));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(Ae.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne(Fe,"POST",{data:t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(Ae.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne("".concat(Fe,"/").concat(t.id),"PATCH",{data:t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(Ae.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne("".concat(Fe,"/").concat(t.id),"DELETE"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ge="https://api.exchangeratesapi.io/latest";function Je(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(Ae.a)(Te.a.mark(function e(t,r){var n;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe()({method:"GET",url:"".concat(Ge,"?symbols=").concat(r,"&base=").concat(t)});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Ze(){return $e.apply(this,arguments)}function $e(){return($e=Object(Ae.a)(Te.a.mark(function e(){var t;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je("USD","AUD");case 2:return t=e.sent,e.abrupt("return",t.rates.AUD);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var qe=Te.a.mark(nt),Ke=Te.a.mark(at),Xe=Te.a.mark(ct),et=Te.a.mark(ot),tt=Te.a.mark(ut),rt=Te.a.mark(lt);function nt(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(b,Te.a.mark(function e(){var t;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ke.b)(Ie);case 3:return t=e.sent,console.log(t),e.next=7,Object(ke.c)({type:v,payload:t});case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.next=14,Object(ke.c)({type:E,payload:e.t0});case 14:case"end":return e.stop()}},e,null,[[0,9]])}));case 2:case"end":return e.stop()}},qe)}function at(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(h,Te.a.mark(function e(t){var r,n;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.payload,void 0!==(a=r).id&&0!==a.id.length){e.next=8;break}return e.next=5,Object(ke.b)(Be,r);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Object(ke.b)(We,r);case 10:n=e.sent;case 11:return e.next=13,Object(ke.c)({type:y,payload:n});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.next=20,Object(ke.c)({type:O,payload:e.t0});case 20:case"end":return e.stop()}var a},e,null,[[0,15]])}));case 2:case"end":return e.stop()}},Ke)}function ct(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(x,Te.a.mark(function e(t){var r,n;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.payload,e.next=4,Object(ke.b)(Me,r);case 4:return n=e.sent,e.next=7,Object(ke.c)({type:w,payload:n});case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.next=14,Object(ke.c)({type:g,payload:e.t0});case 14:case"end":return e.stop()}},e,null,[[0,9]])}));case 2:case"end":return e.stop()}},Xe)}function ot(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(R,Te.a.mark(function e(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ke.c)({type:U});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(ke.c)({type:C,payload:e.t0});case 9:case"end":return e.stop()}},e,null,[[0,5]])}));case 2:case"end":return e.stop()}},et)}function ut(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)(S,Te.a.mark(function e(){var t;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ke.b)(Ze);case 3:return t=e.sent,e.next=6,Object(ke.c)({type:_,payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ke.c)({type:T,payload:e.t0});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));case 2:case"end":return e.stop()}},tt)}function lt(){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.a)([nt(),at(),ct(),ot(),ut()]);case 2:case"end":return e.stop()}},rt)}var it=r(32),st=Object(it.createMuiTheme)({typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2rem"}}}),pt=function(e){var t=Object(Oe.a)(),r=[t],n=[ye.applyMiddleware.apply(void 0,r)],a=Se.composeWithDevTools.apply(void 0,n),c=Object(ye.createStore)(Ce,e,a);return t.run(lt),c}();o.a.render(a.a.createElement(d.a,{store:pt},a.a.createElement(P.a,{theme:st},a.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[252,1,2]]]);
//# sourceMappingURL=main.f9a59d3a.chunk.js.map